"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[656],{4656:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(5861),a=n(885),s=n(7757),o=n.n(s),l=n(9910),i=n(3729),c=n(8182),u=n(6049),d=n(7314),f=n(737),m=n(4318),x=n(2858),p=n(2791),h=n(9434),g=n(6871),v=n(9799),j=n(2079),w=n(9123),y=n(3626),b=n(184),N=function(){var e=(0,h.v9)((function(e){return e.patients.patient})),t=(0,g.UO)().id,n=(0,h.I0)(),s=(0,p.useRef)(null),m=(0,p.useState)(!1),N=(0,a.Z)(m,2),Z=N[0],E=N[1],I=(0,p.useState)(null),S=(0,a.Z)(I,2),C=S[0],T=S[1],A=(0,p.useState)([]),R=(0,a.Z)(A,2),B=R[0],F=R[1],L=(0,p.useState)(null),O=(0,a.Z)(L,2),z=O[0],_=O[1];console.log(e,t,"patient");var D=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.g.get("/api/v1/file/doctor/patient/".concat(t,"/files"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){F(e.data)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();function H(){return H=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.g.get("/api/v1/file/data/"+t,{responseType:"blob",headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),H.apply(this,arguments)}(0,p.useEffect)((function(){n((0,x._s)(t)),D()}),[]),console.log(B,"files");var M=function(){var t=(0,r.Z)(o().mark((function t(n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),null===C){t.next=14;break}return(r=new FormData).append("file",C),r.append("typeId",2),console.log(r,"formData"),t.prev=6,t.next=9,w.g.post("/api/v1/file/upload/"+e.id,r,{headers:{Authorization:"Bearer "+localStorage.getItem("token"),ContentType:"multipart/form-data"}}).then((function(e){D()}));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),console.log(t.t0);case 14:E(!1);case 15:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(e){return t.apply(this,arguments)}}(),V=function(e){(function(e){return H.apply(this,arguments)})(e).then((function(e){var t=URL.createObjectURL(e.data);_(t)}))};return(0,b.jsx)(b.Fragment,{children:e?(0,b.jsxs)("div",{className:"space-y-7",children:[(0,b.jsx)(k,{userInformation:e}),(0,b.jsx)(l.aV,{header:(0,b.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,b.jsx)("h3",{className:"font-medium text-xl",children:"Medical Records"}),(0,b.jsxs)("div",{onClick:function(){return E(!0)},className:"flex cursor-pointer flex-row justify-between items-center space-x-5",children:[(0,b.jsx)(i.Z,{className:"w-7 text-[#3A57E8]"}),(0,b.jsx)("p",{className:"font-bold text-lg text-[#3A57E8]",children:"Add new record for patient"})]})]}),styleList:"rounded-xl",children:B.length>0?(0,b.jsxs)("table",{className:"[border-spacing:0 0.75rem] border-collapse w-full table-auto bg-[#F8F9FD] rounded-t-xl",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-left text-gray-400 text-sm",children:[(0,b.jsx)("th",{className:"py-4 font-normal px-10",children:"Name"}),(0,b.jsx)("th",{className:"py-4 font-normal px-10",children:"Type"}),(0,b.jsx)("th",{className:"py-4 font-normal px-10 text-center",children:"Download"})]})}),(0,b.jsx)("tbody",{children:B.map((function(e,t){return(0,b.jsxs)("tr",{className:(0,c.Z)("text-sm text-left",t%2===0?"bg-white":"bg-gray-50","hover:bg-gray-100"),children:[(0,b.jsx)("td",{className:"py-4 font-normal px-10",children:e.name}),(0,b.jsx)("td",{className:"py-4 font-normal px-10",children:e.contentType}),(0,b.jsx)("a",{href:z,onClick:function(){return V(e.id)},className:"py-4 flex justify-center cursor-pointer font-normal text-center px-10",children:(0,b.jsx)(u.Z,{className:"w-5 text-[#3A57E8]"})})]})}))})]}):(0,b.jsxs)("div",{className:"text-center text-gray-400 py-6 px-3 flex items-center justify-center",children:[(0,b.jsx)(d.Z,{className:"w-11"}),(0,b.jsx)("p",{className:"text-lg font-medium",children:"No documents"})]})}),(0,b.jsxs)(v.u,{setIsOpen:E,isOpen:Z,handleSubmit:M,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,b.jsx)(f.Z,{className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),(0,b.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,b.jsx)(j.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Add new record for patient"}),(0,b.jsx)("div",{className:"mt-2 flex flex-col space-y-4",children:(0,b.jsxs)("label",{htmlFor:"file",className:"flex flex-col text-gray-500 text-md items-start",children:["File :",(0,b.jsx)("input",{type:"file",id:"file",name:"file",onChange:function(e){T(e.target.files[0]),console.log(C,"selectedFile")},className:"w-full"})]})})]})]}),(0,b.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,b.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",children:"Submit"}),(0,b.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:function(){return E(!1)},ref:s,children:"Cancel"})]})]})]}):(0,b.jsx)(y.Z,{})})},k=function(e){var t=e.userInformation;console.log(t,"userInformation");localStorage.getItem("role");return(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-md",children:t.user?(0,b.jsxs)("div",{className:(0,c.Z)("flex flex-col items-end","sm:flex-row"),children:[(0,b.jsx)(m.Z,{className:(0,c.Z)("rounded-l-xl h-full w-56 bg-[#C4C4C4] text-white hidden","xl:block")}),(0,b.jsxs)("div",{className:"py-3 px-8 space-y-3 w-full",children:[(0,b.jsx)("h4",{className:"text-xl leading-8",children:"".concat(t.user.firstName," ").concat(t.user.lastName," ").concat(t.user.fatherName)}),(0,b.jsxs)("div",{className:(0,c.Z)("flex flex-wrap space-y-2"),children:[(0,b.jsx)(Z,{label:"Hospital",information:t.hospital.name}),(0,b.jsx)(Z,{label:"Email",information:t.user.email}),(0,b.jsx)(Z,{label:"Date of birthday",information:t.user.dateOfBirth}),(0,b.jsx)(Z,{label:"Gender",information:t.user.gender}),(0,b.jsx)(Z,{label:"Phone",information:t.user.phoneNumber}),(0,b.jsx)(Z,{label:"IIN",information:t.iin})]})]}),(0,b.jsx)("a",{href:"#",className:"text-[#3A57E8] text-sm mb-2 mr-2",children:"Edit"})]}):(0,b.jsx)(y.Z,{})})},Z=function(e){var t=e.label,n=e.information;return(0,b.jsxs)("div",{className:(0,c.Z)("w-full flex flex-row justify-between flex-grow","sm:w-1/3 sm:flex-col"),children:[(0,b.jsx)("p",{className:(0,c.Z)("text-sm text-gray-400 mr-2","sm:mr-0"),children:t}),(0,b.jsx)("p",{className:(0,c.Z)("text-md font-bold overflow-x-auto truncate"),children:n})]})}},2858:function(e,t,n){n.d(t,{_s:function(){return u},l6:function(){return d}});var r=n(5861),a=n(7757),s=n.n(a),o=n(9123),l=n(6960),i=function(e){return{type:"SET_IS_FETCHING",payload:e}},c=function(e){return{type:"SET_ERROR",payload:e}},u=function(e){return function(){var t=(0,r.Z)(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(i(!0)),console.log(e,"here"),t.prev=2,t.next=5,o.g.get("/api/v1/doctor/profile/patient/"+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 5:r=t.sent,console.log("try",r),n({type:"SET_PATIENT",payload:r.data}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),n(c(!0));case 14:n(i(!1));case 15:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},d=function(){return function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.g.get("/api/v1/doctor/patients/",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){t({type:"GET_PATIENTS",payload:e.data})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,l.Am)("Error fetching patients",{type:"error",position:"top-right"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}},6049:function(e,t,n){var r=n(2791);var a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}))}));t.Z=a},7314:function(e,t,n){var r=n(2791);var a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3"}))}));t.Z=a},737:function(e,t,n){var r=n(2791);var a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"}))}));t.Z=a}}]);
//# sourceMappingURL=656.28d8722f.chunk.js.map