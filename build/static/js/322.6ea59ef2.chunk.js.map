{"version":3,"file":"static/js/322.6ea59ef2.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/outline/esm/SaveAsIcon.js","pages/patient/profile/patientProfile/patientProfile.jsx","../node_modules/@heroicons/react/outline/esm/DownloadIcon.js"],"sourcesContent":["import * as React from \"react\";\n\nfunction SaveAsIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(SaveAsIcon);\nexport default ForwardRef;","import {\n  HeadingProfile,\n  LastNotificationList,\n  List,\n  UserCard,\n} from \"../../../../components\";\nimport { DownloadIcon, SaveAsIcon } from \"@heroicons/react/outline\";\nimport clsx from \"clsx\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { publicRequest } from \"../../../../api/requestMethods\";\n\nexport const PatientProfile = () => {\n  const user = useSelector(({ user }) => user.me);\n  const [myDocuments, setMyDocuments] = useState([]);\n  const [downloadDoc, setDownloadDoc] = useState(null);\n  const [imageURL, setImageURL] = useState(null);\n\n  async function getMyFiles() {\n    try {\n      await publicRequest\n        .get(\"api/v1/file/patient/files\", {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n          },\n        })\n        .then((res) => {\n          setMyDocuments(res.data);\n        });\n      console.log(randomNumber());\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  const downloadImage = (id) => {\n    downloadFile(id).then((res) => {\n      let imageUrl = URL.createObjectURL(res.data);\n      setImageURL(imageUrl);\n    });\n  };\n\n  async function downloadFile(id) {\n    try {\n      return await publicRequest.get(\"/api/v1/file/data/\" + id, {\n        responseType: \"blob\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n        },\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  function randomNumber() {\n    return Math.floor(Math.random() * 3); //Максимум не включается, минимум включается\n  }\n\n  useEffect(() => {\n    getMyFiles();\n  }, []);\n\n  console.log(myDocuments);\n\n  return (\n    <div className=\"w-full space-y-9\">\n      <HeadingProfile\n        name={`${user.user.fatherName} ${user.user.firstName} ${user.user.lastName} !`}\n      />\n      <>\n        <UserCard userInformation={user} />\n        <List\n          styleList=\"rounded-xl\"\n          header={<h4 className=\"text-xl font-medium\">Documents</h4>}\n        >\n          {myDocuments.length !== 0 ? (\n            <table className=\"[border-spacing:0 0.75rem] border-collapse w-full table-auto bg-[#F8F9FD] rounded-t-xl\">\n              <thead>\n                <tr className=\"text-left text-gray-400 text-sm\">\n                  <th className=\"py-4 font-normal px-10\">Name</th>\n                  <th className=\"py-4 font-normal px-10\">Type</th>\n                  <th className=\"py-4 font-normal px-10\">Specialist</th>\n                  <th className=\"py-4 font-normal px-10 text-center\">\n                    Download\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {myDocuments.map((document, index) => (\n                  <tr\n                    key={document.id}\n                    className={clsx(\n                      \"text-sm text-left\",\n                      index % 2 === 0 && \"bg-white\"\n                    )}\n                  >\n                    <td className=\"py-4 font-normal px-10\">{document.name}</td>\n                    <td className=\"py-4 font-normal px-10\">\n                      {document.contentType}\n                    </td>\n                    <td className=\"py-4 font-normal px-10\">Dr. Vin Diesel</td>\n                    <td className=\"py-4 flex justify-center font-normal text-center px-10\">\n                      <a\n                        href={imageURL}\n                        onClick={() => downloadImage(document.id)}\n                        download\n                      >\n                        <DownloadIcon className=\"cursor-pointer w-5 text-[#3A57E8]\" />\n                      </a>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          ) : (\n            <div className=\"text-center text-gray-400 py-6 px-3 flex items-center justify-center\">\n              <SaveAsIcon className=\"w-11\" />\n              <p className=\"text-lg font-medium\">No documents</p>\n            </div>\n          )}\n        </List>\n        <LastNotificationList className=\"py-4 px-2.5\" isDoctor={false} />\n      </>\n    </div>\n  );\n};\n","import * as React from \"react\";\n\nfunction DownloadIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(DownloadIcon);\nexport default ForwardRef;"],"names":["React","props","svgRef","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d","PatientProfile","user","useSelector","me","useState","myDocuments","setMyDocuments","imageURL","setImageURL","publicRequest","headers","Authorization","localStorage","getItem","then","res","data","console","log","randomNumber","downloadImage","id","downloadFile","imageUrl","URL","createObjectURL","responseType","Math","floor","random","useEffect","getMyFiles","className","name","fatherName","firstName","lastName","userInformation","styleList","header","length","map","document","index","clsx","contentType","href","onClick","download","DownloadIcon","isDoctor","ForwardRef"],"sourceRoot":""}