"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[774],{2774:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var s=n(5861),r=n(885),a=n(7757),l=n.n(a),o=n(2791),i=n(9123),c=n(8182),d=n(3504),u=n(1056);var m=o.forwardRef((function(e,t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"}))}));var x=o.forwardRef((function(e,t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"}))})),f=n(2079),h=n(2596),p=n(1460),g=n(9799),j=n(184),y=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),n=t[0],a=t[1],x=(0,o.useState)(!1),h=(0,r.Z)(x,2),p=h[0],y=h[1],N=(0,o.useRef)(null),b=(0,o.useState)(null),w=(0,r.Z)(b,2),k=w[0],S=w[1],Z=(0,o.useState)(null),C=(0,o.useState)(null),E=(0,r.Z)(C,2),F=E[0],I=E[1],O=(0,o.useState)(null),z=(0,r.Z)(O,2),A=(z[0],z[1]),B=(0,o.useState)(null),T=(0,r.Z)(B,2),L=T[0],W=T[1];function D(){return M.apply(this,arguments)}function M(){return(M=(0,s.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.g.get("/api/v1/appointment/hospital",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){a(e.data)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:console.log(n);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}(0,o.useEffect)((function(){D()}),[]);var R=function(){var e=(0,s.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i.g.post("/api/v1/appointment/updateStatus/patient/".concat(k,"/doctor/").concat(L,"/schedule/").concat(F,"?status=").concat(Z.current.value),{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){D()}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:y(!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return console.log(n,"patients"),(0,j.jsxs)("div",{className:"px-5 py-4 w-full rounded-lg bg-white shadow-lg",children:[(0,j.jsx)("div",{className:"w-full max-h-[500px] flex flex-row justify-between",children:(0,j.jsxs)("h1",{className:"font-medium text-xl",children:[n.length," Patient Total"]})}),(0,j.jsx)("div",{className:"max-h-[400px] overflow-scroll px-4 mt-3",children:n&&n.length>0?(0,j.jsxs)("table",{className:"[border-spacing:0 0.75rem] border-collapse w-full table-auto bg-[#F8F9FD] rounded-t-xl",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:"text-left text-gray-400",children:[(0,j.jsx)("th",{className:"py-4 font-normal px-5",children:"Name"}),(0,j.jsx)("th",{className:"py-4 font-normal px-5",children:"Date"}),(0,j.jsx)("th",{className:"py-4 font-normal px-5",children:"Time"}),(0,j.jsx)("th",{className:"py-4 font-normal px-5",children:"Email"}),(0,j.jsx)("th",{className:"py-4 font-normal px-5",children:"Status"}),(0,j.jsx)("th",{className:"py-4 font-normal px-5",children:"Number"}),(0,j.jsx)("th",{className:"py-4 font-normal px-5",children:"Appoinment"}),(0,j.jsx)("th",{className:"py-4 font-normal px-5"})]})}),(0,j.jsx)("tbody",{children:n.map((function(e,t){return(0,j.jsxs)("tr",{className:(0,c.Z)("text-sm text-left",t%2===0&&"bg-white","hover:bg-gray-100"),children:[(0,j.jsx)(d.OL,{to:"".concat(e.id),className:"py-6 flex items-center h-full px-5",children:(0,j.jsx)("td",{className:(0,c.Z)("font-normal","hover:text-[#3A57E8]"),children:e.patient.user.firstName})}),(0,j.jsx)("td",{className:"py-4 font-normal px-5 min-w-[110px]",children:e.date}),(0,j.jsx)("td",{className:"py-4 font-normal px-5 min-w-[110px]",children:e.schedule.time}),(0,j.jsx)("td",{className:"py-4 font-normal overflow-x-auto max-w-[100px] px-5 overflow-hidden",children:e.patient.user.email}),(0,j.jsx)("td",{className:"py-4 font-normal px-5",children:e.status}),(0,j.jsx)("td",{className:"py-4 font-normal px-5",children:e.patient.user.phoneNumber}),(0,j.jsx)("td",{className:"py-4 font-normal px-5",children:(0,j.jsx)(v,{doctor:e.schedule.doctor,dayOfWeek:e.schedule.dayOfWeek,time:e.schedule.time})}),(0,j.jsx)("td",{className:"py-4 font-normal px-5",children:(0,j.jsx)(u.z,{name:"Complete",onClick:function(){return function(e,t,n,s,r){console.log(e,t,n,s,r),S(t),W(r),A(s),I(n),y(e)}(!0,e.patient.id,e.schedule.id,e.patient.hospital.id,e.schedule.doctor.id)}})})]})}))})]}):(0,j.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,j.jsx)("p",{className:"text-center text-gray-400",children:"No Patients"})})}),(0,j.jsxs)(g.u,{isOpen:p,setIsOpen:y,handleSubmit:R,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,j.jsx)(m,{className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),(0,j.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,j.jsx)(f.V.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:"Choose Status of appoinment"}),(0,j.jsx)("div",{className:"mt-2 flex justify-evenly items-center flex-row",children:(0,j.jsxs)("label",{htmlFor:"status",className:"flex flex-row p-3 rounded-full text-gray-500 text-md items-center space-x-2",children:[(0,j.jsx)("p",{children:"Status"}),(0,j.jsxs)("select",{id:"status",ref:Z,className:"rounded-lg",children:[(0,j.jsx)("option",{value:"FINISHED",children:"Finished"}),(0,j.jsx)("option",{value:"ABSENT",children:"Absent"})]})]})})]})]}),(0,j.jsxs)("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[(0,j.jsx)("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",children:"Submit"}),(0,j.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:function(){return y(!1)},ref:N,children:"Cancel"})]})]})]})},v=function(e){var t=e.doctor,n=e.dayOfWeek,s=e.time;return console.log(t,"doctor"),(0,j.jsxs)(h.v,{as:"div",className:"relative inline-block text-left",children:[(0,j.jsx)("div",{children:(0,j.jsxs)(h.v.Button,{className:"z-10 inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",children:["Appointment",(0,j.jsx)(x,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),(0,j.jsx)(p.u,{as:o.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,j.jsx)(h.v.Items,{className:"z-20 origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,j.jsxs)("div",{className:"py-1",children:[(0,j.jsx)(h.v.Item,{children:function(e){var n=e.active;return(0,j.jsxs)("a",{href:"#",className:(0,c.Z)(n?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:[t.user.firstName," ",t.user.lastName," ",t.specialization.name]})}}),(0,j.jsx)(h.v.Item,{children:function(e){var t=e.active;return(0,j.jsx)("a",{href:"#",className:(0,c.Z)(t?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:n})}}),(0,j.jsx)(h.v.Item,{children:function(e){var t=e.active;return(0,j.jsx)("a",{href:"#",className:(0,c.Z)(t?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:s})}})]})})})]})}}}]);
//# sourceMappingURL=774.b837c504.chunk.js.map