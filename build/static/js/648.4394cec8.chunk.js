"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[648],{1648:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var n=a(5861),r=a(885),s=a(7757),i=a.n(s),l=a(2791),c=a(5060),o=a(9910),d=a(1056),p=a(8182),u=a(9123),m=a(9660),h=a(3504),f=a(6871),x=a(6960),y=a(184),g=function(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),a=t[0],s=t[1],g=(0,l.useState)([]),b=(0,r.Z)(g,2),v=b[0],j=b[1],w=(0,l.useState)(null),N=(0,r.Z)(w,2),k=(N[0],N[1]),C=(0,f.s0)();function A(){return(A=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.g)("/api/v1/city/get-all");case 3:t=e.sent,s(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.message&&(0,x.Am)(e.t0.message,{type:"error",theme:"light"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(0,l.useEffect)((function(){(function(){return A.apply(this,arguments)})().then()}),[]);var I=function(){var e=(0,n.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.find((function(e){e.name===t.target.value&&(n=e.id)})),k(n),e.next=4,u.g.get("api/v1/hospital/city/"+n);case 4:r=e.sent,j(r.data.hospitals);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,n.Z)(i().mark((function e(t){var a,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new FormData(t.currentTarget),console.log(a),n=Object.fromEntries(a),console.log(n),v.find((function(e){e.name===n.hospitalId&&(r=e.id)})),delete n.city,delete n.cityId,n.hospitalId=r,e.prev=9,e.next=12,u.g.post("api/v1/auth/registration/patient",n);case 12:(0,x.Am)("Succesfully created",{type:"success",theme:"light"}),C("/login"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),e.t0.message&&(0,x.Am)(e.t0.response.data.message,{type:"error",theme:"light"});case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,y.jsxs)("form",{onSubmit:S,children:[(0,y.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,y.jsx)("h1",{className:"items-center text-4xl font-medium text-black",children:"Sign Up"}),(0,y.jsx)("p",{className:"text-[#8A92A6]",children:"Create your account"})]}),(0,y.jsxs)("div",{className:(0,p.Z)("grid grid-cols-1 gap-3","md:grid-cols-2"),children:[[{id:"fatherName",name:"Father Name",type:"text"},{id:"firstName",name:"First Name",type:"text"},{id:"lastName",name:"Last Name",type:"text"},{id:"email",name:"Email",type:"email"},{id:"phoneNumber",name:"Phone",type:"tel"},{id:"iin",name:"IIN",type:"text"},{id:"age",name:"Age",type:"text"},{id:"password",name:"Password",type:"password"},{id:"rePassword",name:"Confirm Password",type:"password"},{id:"cityId",name:"City",type:"datalistCity"},{id:"hospitalId",name:"Clinics",type:"datalist"}].map((function(e){return(0,y.jsx)("label",{htmlFor:e.id,children:(0,y.jsx)(c.M,{id:"".concat(e.id),name:e.name,type:"datalist"===e.type||"datalistCity"===e.type?null:e.type,onChange:"datalistCity"===e.type?I:null,placeholder:e.name,autoComplete:"off",list:"datalist"===e.type||"datalistCity"===e.type?"".concat(e.id,"_list"):null},e.id)})})),(0,y.jsxs)("select",{name:"gender",id:"gender",className:"mt-1 min-w-[250px] border-t-0 border-r-0 border-l-0 bg-none border-b border-black focus-within:border-indigo-600",children:[(0,y.jsx)("option",{value:"Male",children:"Male"}),(0,y.jsx)("option",{value:"Female",children:"Female"}),(0,y.jsx)("option",{value:"Other",children:"Other"})]}),(0,y.jsx)(m.V,{data:v,id:"hospitalId_list"}),(0,y.jsx)(m.V,{data:a,id:"cityId_list"})]}),(0,y.jsxs)("div",{className:"flex flex-col items-center mt-4 justify-center space-y-5",children:[(0,y.jsxs)("div",{className:"flex w-full items-center justify-center space-x-2",children:[(0,y.jsx)("input",{type:"checkbox",className:"border-0"}),(0,y.jsx)("p",{className:"text-[#8A92A6]",children:"I agree with the terms of use"})]}),(0,y.jsx)(d.z,{name:"Sign up",type:"submit"}),(0,y.jsx)("p",{className:"text-black",children:"or sign up with other accounts?"}),(0,y.jsx)(o.Sb,{}),(0,y.jsxs)("p",{className:"text-black",children:["Already have an Account"," ",(0,y.jsx)(h.OL,{className:"text-[#458FF6]",to:"/login",children:"Sign in"})]})]})]})}},5060:function(e,t,a){a.d(t,{M:function(){return s}});a(2791);var n=a(8182),r=a(184),s=function(e){var t=e.id,a=e.style,s=e.placeholder,i=e.type,l=e.list,c=e.autoComplete,o=e.onChange;return(0,r.jsx)("div",{className:(0,n.Z)("mt-1 min-w-[250px] border-b border-black focus-within:border-indigo-600",a),children:(0,r.jsx)("input",{type:i,name:t,autoComplete:c,onChange:o,id:t,className:"block min-h-[40px] w-full border-0 border-transparent bg-transparent outline-0 focus:border-none sm:text-sm",placeholder:s,list:l})})}}}]);
//# sourceMappingURL=648.4394cec8.chunk.js.map