{"version":3,"file":"static/js/500.1c3557ac.chunk.js","mappings":"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","sources":["pages/patient/profile/patientProfile/patientProfile.jsx","../node_modules/@heroicons/react/outline/esm/DownloadIcon.js","../node_modules/@heroicons/react/outline/esm/SaveAsIcon.js"],"sourcesContent":["import {\n  DropDown,\n  HeaderList,\n  HeadingProfile,\n  List,\n  UserCard,\n} from \"../../../../components\";\nimport {\n  DownloadIcon,\n  PencilAltIcon,\n  SaveAsIcon,\n} from \"@heroicons/react/outline\";\nimport clsx from \"clsx\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { publicRequest } from \"../../../../api/requestMethods\";\nimport { Menu } from \"@headlessui/react\";\nimport { getMyAppointments } from \"../../../../redux/actions/user\";\n\nexport const PatientProfile = () => {\n  const user = useSelector(({ user }) => user.me);\n  const [myDocuments, setMyDocuments] = useState([]);\n  const [imageURL, setImageURL] = useState(null);\n  const dispatch = useDispatch();\n  const { appointments } = useSelector(({ user }) => user);\n\n  async function getMyFiles() {\n    try {\n      await publicRequest\n        .get(\"api/v1/file/patient/files\", {\n          headers: {\n            Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n          },\n        })\n        .then((res) => {\n          setMyDocuments(res.data);\n        });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  const downloadImage = (id) => {\n    downloadFile(id).then((res) => {\n      let imageUrl = URL.createObjectURL(res.data);\n      setImageURL(imageUrl);\n    });\n  };\n\n  async function downloadFile(id) {\n    try {\n      return await publicRequest.get(\"/api/v1/file/data/\" + id, {\n        responseType: \"blob\",\n        headers: {\n          Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n        },\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  useEffect(() => {\n    getMyFiles();\n    dispatch(getMyAppointments());\n  }, []);\n\n  console.log(appointments, \"appointments\");\n\n  return (\n    <div className=\"w-full space-y-9\">\n      <HeadingProfile\n        name={`${user.user.fatherName} ${user.user.firstName} ${user.user.lastName} !`}\n      />\n      <>\n        <UserCard userInformation={user} />\n        <List\n          styleList=\"rounded-xl\"\n          header={<h4 className=\"text-xl font-medium\">Documents</h4>}\n        >\n          {myDocuments.length !== 0 ? (\n            <table className=\"[border-spacing:0 0.75rem] border-collapse w-full table-auto bg-[#F8F9FD] rounded-t-xl\">\n              <thead>\n                <tr className=\"text-left text-gray-400 text-sm\">\n                  <th className=\"py-4 font-normal px-10\">Name</th>\n                  <th className=\"py-4 font-normal px-10\">Type</th>\n                  <th className=\"py-4 font-normal px-10\">Specialist</th>\n                  <th className=\"py-4 font-normal px-10 text-center\">\n                    Download\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {myDocuments.map((document, index) => (\n                  <tr\n                    key={document.id}\n                    className={clsx(\n                      \"text-sm text-left\",\n                      index % 2 === 0 && \"bg-white\"\n                    )}\n                  >\n                    <td className=\"py-4 font-normal px-10\">{document.name}</td>\n                    <td className=\"py-4 font-normal px-10\">\n                      {document.contentType}\n                    </td>\n                    <td className=\"py-4 font-normal px-10\">Dr. Vin Diesel</td>\n                    <td className=\"py-4 flex justify-center font-normal text-center px-10\">\n                      <a\n                        href={imageURL}\n                        onClick={() => downloadImage(document.id)}\n                        download\n                      >\n                        <DownloadIcon className=\"cursor-pointer w-5 text-[#3A57E8]\" />\n                      </a>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          ) : (\n            <div className=\"text-center text-gray-400 py-6 px-3 flex items-center justify-center\">\n              <SaveAsIcon className=\"w-11\" />\n              <p className=\"text-lg font-medium\">No documents</p>\n            </div>\n          )}\n        </List>\n        <List\n          styleList=\"rounded-xl\"\n          className=\"py-4 px-2.5\"\n          header={<HeaderList name=\"Appoinments\" />}\n        >\n          {appointments && appointments.length > 0 ? (\n            appointments.map((appointment) => (\n              <DropDown\n                isDoctor={false}\n                status={appointment.status}\n                heading={appointment.date}\n              >\n                <Menu.Item>\n                  <table className=\"w-full overflow-hidden table-auto\">\n                    <thead>\n                      <tr className=\"text-sm text-gray-400\">\n                        <th className=\"font-normal py-4 px-5\">Hospital</th>\n                        <th className=\"font-normal py-4 px-5\">Doctor</th>\n                        <th className=\"font-normal py-4 px-5\">\n                          Specialization\n                        </th>\n                        <th className=\"font-normal py-4 px-5\">Time</th>\n                        <th className=\"font-normal py-4 px-5\">Number</th>\n                        <th className=\"font-normal py-4 px-5\">Status</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr className=\"text-sm\">\n                        <td className=\"font-normal py-4 px-5\">\n                          {appointment.schedule.doctor.hospital.name}\n                        </td>\n                        <td className=\"font-normal py-4 px-5\">\n                          {`${appointment.schedule.doctor.user.firstName} ${appointment.schedule.doctor.user.fatherName}`}\n                        </td>\n                        <td className=\"font-normal py-4 px-5\">\n                          {appointment.schedule.doctor.specialization.name}\n                        </td>\n                        <td className=\"font-normal py-4 px-5\">\n                          {appointment.schedule.time}\n                        </td>\n                        <td className=\"font-normal py-4 px-5\">\n                          {appointment.schedule.doctor.user.phoneNumber}\n                        </td>\n                        <td className=\"font-normal py-4 px-5\">\n                          {appointment.status}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </Menu.Item>\n              </DropDown>\n            ))\n          ) : (\n            <div className=\"text-center text-gray-400 py-6 px-3 flex items-center justify-center\">\n              <PencilAltIcon className=\"w-11\" />\n              <p className=\"text-lg font-medium\">No appointments</p>\n            </div>\n          )}\n        </List>\n      </>\n    </div>\n  );\n};\n","import * as React from \"react\";\n\nfunction DownloadIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(DownloadIcon);\nexport default ForwardRef;","import * as React from \"react\";\n\nfunction SaveAsIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(SaveAsIcon);\nexport default ForwardRef;"],"names":["PatientProfile","user","useSelector","me","useState","myDocuments","setMyDocuments","imageURL","setImageURL","dispatch","useDispatch","appointments","publicRequest","headers","Authorization","localStorage","getItem","then","res","data","console","log","downloadImage","id","downloadFile","imageUrl","URL","createObjectURL","responseType","useEffect","getMyFiles","getMyAppointments","className","name","fatherName","firstName","lastName","userInformation","styleList","header","length","map","document","index","clsx","contentType","href","onClick","download","DownloadIcon","SaveAsIcon","appointment","isDoctor","status","heading","date","schedule","doctor","hospital","specialization","time","phoneNumber","PencilAltIcon","ForwardRef","React","props","svgRef","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d"],"sourceRoot":""}