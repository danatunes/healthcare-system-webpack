{"version":3,"file":"static/js/774.b837c504.chunk.js","mappings":"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","sources":["../node_modules/@heroicons/react/outline/esm/BadgeCheckIcon.js","../node_modules/@heroicons/react/outline/esm/ChevronDownIcon.js","pages/admin/admin-clinic/clinicPatients/ClinicPatients.jsx"],"sourcesContent":["import * as React from \"react\";\n\nfunction BadgeCheckIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(BadgeCheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\n\nfunction ChevronDownIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19 9l-7 7-7-7\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;","import React, { Fragment, useEffect, useRef, useState } from \"react\";\nimport { publicRequest } from \"../../../../api/requestMethods\";\nimport clsx from \"clsx\";\nimport { NavLink } from \"react-router-dom\";\nimport { Button } from \"../../../../ui/button/button\";\nimport { BadgeCheckIcon, ChevronDownIcon } from \"@heroicons/react/outline\";\nimport { Dialog, Menu, Transition } from \"@headlessui/react\";\nimport { Modal } from \"../../../../ui/modal/modal\";\n\nexport const ClinicPatients = () => {\n  const [patients, setPatients] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const cancelButtonRef = useRef(null);\n  const [patientId, setPatientId] = useState(null);\n  const statusRef = useState(null);\n  const [scheduleId, setScheduleId] = useState(null);\n  const [hospitalId, setHospitalId] = useState(null);\n  const [doctorId, setDoctorId] = useState(null);\n\n  async function fetchData() {\n    try {\n      await publicRequest\n        .get(\"/api/v1/appointment/hospital\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        })\n        .then((res) => {\n          setPatients(res.data);\n        });\n    } catch (e) {\n      console.log(e);\n    }\n    console.log(patients);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleOpen = (open, patientId, scheduleId, hospitalId, doctorId) => {\n    console.log(open, patientId, scheduleId, hospitalId, doctorId);\n    setPatientId(patientId);\n    setDoctorId(doctorId);\n    setHospitalId(hospitalId);\n    setScheduleId(scheduleId);\n    setIsOpen(open);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      await publicRequest\n        .post(\n          `/api/v1/appointment/updateStatus/patient/${patientId}/doctor/${doctorId}/schedule/${scheduleId}?status=${statusRef.current.value}`,\n          {},\n          {\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n            },\n          }\n        )\n        .then((res) => {\n          fetchData();\n        });\n    } catch (e) {\n      console.log(e);\n    }\n    setIsOpen(false);\n  };\n\n  console.log(patients, \"patients\");\n\n  return (\n    <div className=\"px-5 py-4 w-full rounded-lg bg-white shadow-lg\">\n      <div className=\"w-full max-h-[500px] flex flex-row justify-between\">\n        <h1 className=\"font-medium text-xl\">{patients.length} Patient Total</h1>\n      </div>\n      <div className=\"max-h-[400px] overflow-scroll px-4 mt-3\">\n        {patients && patients.length > 0 ? (\n          <table className=\"[border-spacing:0 0.75rem] border-collapse w-full table-auto bg-[#F8F9FD] rounded-t-xl\">\n            <thead>\n              <tr className=\"text-left text-gray-400\">\n                <th className=\"py-4 font-normal px-5\">Name</th>\n                <th className=\"py-4 font-normal px-5\">Date</th>\n                <th className=\"py-4 font-normal px-5\">Time</th>\n                <th className=\"py-4 font-normal px-5\">Email</th>\n                <th className=\"py-4 font-normal px-5\">Status</th>\n                <th className=\"py-4 font-normal px-5\">Number</th>\n                <th className=\"py-4 font-normal px-5\">Appoinment</th>\n                <th className=\"py-4 font-normal px-5\" />\n              </tr>\n            </thead>\n            <tbody>\n              {patients.map((patient, index) => (\n                <tr\n                  className={clsx(\n                    \"text-sm text-left\",\n                    index % 2 === 0 && \"bg-white\",\n                    \"hover:bg-gray-100\"\n                  )}\n                >\n                  <NavLink\n                    to={`${patient.id}`}\n                    className=\"py-6 flex items-center h-full px-5\"\n                  >\n                    <td className={clsx(\"font-normal\", \"hover:text-[#3A57E8]\")}>\n                      {patient.patient.user.firstName}\n                    </td>\n                  </NavLink>\n                  <td className=\"py-4 font-normal px-5 min-w-[110px]\">\n                    {patient.date}\n                  </td>\n                  <td className=\"py-4 font-normal px-5 min-w-[110px]\">\n                    {patient.schedule.time}\n                  </td>\n                  <td className=\"py-4 font-normal overflow-x-auto max-w-[100px] px-5 overflow-hidden\">\n                    {patient.patient.user.email}\n                  </td>\n                  <td className=\"py-4 font-normal px-5\">{patient.status}</td>\n                  <td className=\"py-4 font-normal px-5\">\n                    {patient.patient.user.phoneNumber}\n                  </td>\n                  <td className=\"py-4 font-normal px-5\">\n                    <Dropdown\n                      doctor={patient.schedule.doctor}\n                      dayOfWeek={patient.schedule.dayOfWeek}\n                      time={patient.schedule.time}\n                    />\n                  </td>\n                  <td className=\"py-4 font-normal px-5\">\n                    <Button\n                      name=\"Complete\"\n                      onClick={() =>\n                        handleOpen(\n                          true,\n                          patient.patient.id,\n                          patient.schedule.id,\n                          patient.patient.hospital.id,\n                          patient.schedule.doctor.id\n                        )\n                      }\n                    />\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center\">\n            <p className=\"text-center text-gray-400\">No Patients</p>\n          </div>\n        )}\n      </div>\n      <Modal isOpen={isOpen} setIsOpen={setIsOpen} handleSubmit={handleSubmit}>\n        <div>\n          <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100\">\n            <BadgeCheckIcon\n              className=\"h-6 w-6 text-green-600\"\n              aria-hidden=\"true\"\n            />\n          </div>\n          <div className=\"mt-3 text-center sm:mt-5\">\n            <Dialog.Title\n              as=\"h3\"\n              className=\"text-lg leading-6 font-medium text-gray-900\"\n            >\n              Choose Status of appoinment\n            </Dialog.Title>\n            <div className=\"mt-2 flex justify-evenly items-center flex-row\">\n              <label\n                htmlFor=\"status\"\n                className=\"flex flex-row p-3 rounded-full text-gray-500 text-md items-center space-x-2\"\n              >\n                <p>Status</p>\n                <select id=\"status\" ref={statusRef} className=\"rounded-lg\">\n                  <option value=\"FINISHED\">Finished</option>\n                  <option value=\"ABSENT\">Absent</option>\n                </select>\n              </label>\n            </div>\n          </div>\n        </div>\n        <div className=\"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense\">\n          <button\n            type=\"submit\"\n            className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm\"\n          >\n            Submit\n          </button>\n          <button\n            type=\"button\"\n            className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm\"\n            onClick={() => setIsOpen(false)}\n            ref={cancelButtonRef}\n          >\n            Cancel\n          </button>\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nconst Dropdown = ({ doctor, dayOfWeek, time }) => {\n  console.log(doctor, \"doctor\");\n  return (\n    <Menu as=\"div\" className=\"relative inline-block text-left\">\n      <div>\n        <Menu.Button className=\"z-10 inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500\">\n          Appointment\n          <ChevronDownIcon className=\"-mr-1 ml-2 h-5 w-5\" aria-hidden=\"true\" />\n        </Menu.Button>\n      </div>\n\n      <Transition\n        as={Fragment}\n        enter=\"transition ease-out duration-100\"\n        enterFrom=\"transform opacity-0 scale-95\"\n        enterTo=\"transform opacity-100 scale-100\"\n        leave=\"transition ease-in duration-75\"\n        leaveFrom=\"transform opacity-100 scale-100\"\n        leaveTo=\"transform opacity-0 scale-95\"\n      >\n        <Menu.Items className=\"z-20 origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\">\n          <div className=\"py-1\">\n            <Menu.Item>\n              {({ active }) => (\n                <a\n                  href=\"#\"\n                  className={clsx(\n                    active ? \"bg-gray-100 text-gray-900\" : \"text-gray-700\",\n                    \"block px-4 py-2 text-sm\"\n                  )}\n                >\n                  {doctor.user.firstName} {doctor.user.lastName}{\" \"}\n                  {doctor.specialization.name}\n                </a>\n              )}\n            </Menu.Item>\n            <Menu.Item>\n              {({ active }) => (\n                <a\n                  href=\"#\"\n                  className={clsx(\n                    active ? \"bg-gray-100 text-gray-900\" : \"text-gray-700\",\n                    \"block px-4 py-2 text-sm\"\n                  )}\n                >\n                  {dayOfWeek}\n                </a>\n              )}\n            </Menu.Item>\n            <Menu.Item>\n              {({ active }) => (\n                <a\n                  href=\"#\"\n                  className={clsx(\n                    active ? \"bg-gray-100 text-gray-900\" : \"text-gray-700\",\n                    \"block px-4 py-2 text-sm\"\n                  )}\n                >\n                  {time}\n                </a>\n              )}\n            </Menu.Item>\n          </div>\n        </Menu.Items>\n      </Transition>\n    </Menu>\n  );\n};\n"],"names":["React","props","svgRef","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","strokeLinecap","strokeLinejoin","d","ClinicPatients","useState","patients","setPatients","isOpen","setIsOpen","cancelButtonRef","useRef","patientId","setPatientId","statusRef","scheduleId","setScheduleId","setHospitalId","doctorId","setDoctorId","fetchData","publicRequest","headers","Authorization","localStorage","getItem","then","res","data","console","log","useEffect","handleSubmit","e","preventDefault","current","value","className","length","map","patient","index","clsx","to","id","user","firstName","date","schedule","time","email","status","phoneNumber","Dropdown","doctor","dayOfWeek","name","onClick","open","hospitalId","handleOpen","hospital","as","htmlFor","type","Fragment","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","active","href","lastName","specialization"],"sourceRoot":""}