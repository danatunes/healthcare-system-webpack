{"version":3,"file":"static/js/648.d6f3f598.chunk.js","mappings":"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","sources":["pages/auth/signUp/signUp.jsx","ui/datalist/datalist.jsx","ui/inputs/inputWithBottomBorder.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { InputWithBottomBorder } from \"../../../ui/inputs/inputWithBottomBorder\";\nimport { LoginIntegration } from \"../../../components\";\nimport { Button } from \"../../../ui/button/button\";\nimport clsx from \"clsx\";\nimport { publicRequest } from \"../../../api/requestMethods\";\nimport { Datalist } from \"../../../ui/datalist/datalist\";\nimport { NavLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\nexport const SignUp = () => {\n  const dataForUI = [\n    {\n      id: \"fatherName\",\n      name: \"Father Name\",\n      type: \"text\",\n    },\n    {\n      id: \"firstName\",\n      name: \"First Name\",\n      type: \"text\",\n    },\n    {\n      id: \"lastName\",\n      name: \"Last Name\",\n      type: \"text\",\n    },\n    {\n      id: \"email\",\n      name: \"Email\",\n      type: \"email\",\n    },\n    {\n      id: \"phoneNumber\",\n      name: \"Phone\",\n      type: \"tel\",\n    },\n    {\n      id: \"iin\",\n      name: \"IIN\",\n      type: \"text\",\n    },\n    {\n      id: \"password\",\n      name: \"Password\",\n      type: \"password\",\n    },\n    {\n      id: \"rePassword\",\n      name: \"Confirm Password\",\n      type: \"password\",\n    },\n    {\n      id: \"cityId\",\n      name: \"City\",\n      type: \"datalistCity\",\n    },\n    {\n      id: \"hospitalId\",\n      name: \"Clinics\",\n      type: \"datalist\",\n    },\n  ];\n\n  const [city, setCity] = React.useState([]);\n  const [hospitals, setHospitals] = React.useState([]);\n  const [cityId, setCityId] = React.useState(null);\n\n  async function fetch() {\n    try {\n      const responseCity = await publicRequest(\"/api/v1/city/get-all\");\n      setCity(responseCity.data);\n    } catch (e) {\n      if (e.message) {\n        toast(e.message, {\n          type: \"error\",\n          theme: \"light\",\n        });\n      }\n    }\n  }\n\n  useEffect(() => {\n    fetch().then();\n  }, []);\n\n  const onChangeCity = async (e) => {\n    let cityId;\n    city.find((item) => {\n      if (item.name === e.target.value) {\n        cityId = item.id;\n      }\n    });\n    setCityId(cityId);\n    const response = await publicRequest.get(\"api/v1/hospital/city/\" + cityId);\n    setHospitals(response.data.hospitals);\n  };\n\n  const handleSignUp = async (e) => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    console.log(formData);\n    let requestData = Object.fromEntries(formData);\n    console.log(requestData);\n    let clinicId;\n    hospitals.find((item) => {\n      if (item.name === requestData.hospitalId) {\n        clinicId = item.id;\n      }\n    });\n    delete requestData.city;\n    delete requestData.cityId;\n    requestData.hospitalId = clinicId;\n\n    try {\n      await publicRequest.post(\"api/v1/auth/registration/patient\", requestData);\n      toast(\"Succesfully created\", {\n        type: \"success\",\n        theme: \"light\",\n      });\n    } catch (e) {\n      if (e.message) {\n        toast(e.response.data.message, {\n          type: \"error\",\n          theme: \"light\",\n        });\n      }\n    }\n  };\n\n  return (\n    <form onSubmit={handleSignUp}>\n      <div className=\"flex flex-col items-center justify-center space-y-2\">\n        <h1 className=\"items-center text-4xl font-medium text-black\">\n          Sign Up\n        </h1>\n        <p className=\"text-[#8A92A6]\">Create your account</p>\n      </div>\n      <div className={clsx(\"grid grid-cols-1 gap-3\", \"md:grid-cols-2\")}>\n        {dataForUI.map((item) => (\n          <label htmlFor={item.id}>\n            <InputWithBottomBorder\n              key={item.id}\n              id={`${item.id}`}\n              name={item.name}\n              type={\n                item.type === \"datalist\" || item.type === \"datalistCity\"\n                  ? null\n                  : item.type\n              }\n              onChange={item.type === \"datalistCity\" ? onChangeCity : null}\n              placeholder={item.name}\n              autoComplete=\"off\"\n              list={\n                item.type === \"datalist\" || item.type === \"datalistCity\"\n                  ? `${item.id}_list`\n                  : null\n              }\n            />\n          </label>\n        ))}\n        <Datalist data={hospitals} id=\"hospitalId_list\" />\n        <Datalist data={city} id=\"cityId_list\" />\n      </div>\n      <div className=\"flex flex-col items-center mt-4 justify-center space-y-5\">\n        <div className=\"flex w-full items-center justify-center space-x-2\">\n          <input type=\"checkbox\" className=\"border-0\" />\n          <p className=\"text-[#8A92A6]\">I agree with the terms of use</p>\n        </div>\n        <Button name=\"Sign up\" type=\"submit\" />\n        <p className=\"text-black\">or sign up with other accounts?</p>\n        <LoginIntegration />\n        <p className=\"text-black\">\n          Already have an Account{\" \"}\n          <NavLink className=\"text-[#458FF6]\" to=\"/login\">\n            Sign in\n          </NavLink>\n        </p>\n      </div>\n    </form>\n  );\n};\n","export const Datalist = ({ id, data }) => {\n  console.log(data);\n  return (\n    <datalist id={id}>\n      {data &&\n        data.map((option) => <option key={option.id} value={option.name} />)}\n    </datalist>\n  );\n};\n","import React from \"react\";\nimport clsx from \"clsx\";\n\nexport const InputWithBottomBorder = ({\n  id,\n  name,\n  style,\n  placeholder,\n  type,\n  list,\n  autoComplete,\n  onChange,\n}) => {\n  return (\n    <div\n      className={clsx(\n        \"mt-1 min-w-[250px] border-b border-black focus-within:border-indigo-600\",\n        style\n      )}\n    >\n      <input\n        type={type}\n        name={id}\n        autoComplete={autoComplete}\n        onChange={onChange}\n        id={id}\n        className=\"block min-h-[40px] w-full border-0 border-transparent bg-transparent outline-0 focus:border-none sm:text-sm\"\n        placeholder={placeholder}\n        list={list}\n      />\n    </div>\n  );\n};\n"],"names":["SignUp","React","city","setCity","hospitals","setHospitals","setCityId","publicRequest","responseCity","data","message","toast","type","theme","useEffect","fetch","then","onChangeCity","e","find","item","name","target","value","cityId","id","response","handleSignUp","preventDefault","formData","FormData","currentTarget","console","log","requestData","Object","fromEntries","hospitalId","clinicId","onSubmit","className","clsx","map","htmlFor","onChange","placeholder","autoComplete","list","to","Datalist","option","InputWithBottomBorder","style"],"sourceRoot":""}